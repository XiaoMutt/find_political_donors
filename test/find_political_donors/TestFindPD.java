package find_political_donors;

import java.io.BufferedReader;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.io.PrintWriter;
import org.junit.After;
import org.junit.AfterClass;
import org.junit.Before;
import org.junit.BeforeClass;
import org.junit.Test;
import static org.junit.Assert.*;

/**
 * Test FindPD.
 *
 * @author Xiao Zhou
 */
public class TestFindPD {

    private final String pwd;

    public TestFindPD() {
        File dir = new File("insight_testsuite" + File.separator + "tests");
        if (!dir.exists()) {
            dir.mkdirs();
        }
        pwd = "insight_testsuite" + File.separator + "tests";
    }

    @BeforeClass
    public static void setUpClass() {

    }

    @AfterClass
    public static void tearDownClass() {
    }

    @Before
    public void setUp() {
    }

    @After
    public void tearDown() {
    }

    private String createDir(String test) {
        File dir = new File(pwd + File.separator + test + File.separator + "input");
        if (!dir.exists()) {
            if (!dir.mkdirs()) {
                fail("IO error while making input folder!");
            }
        }
        dir = new File(pwd + File.separator + test + File.separator + "output");
        if (!dir.exists()) {
            if (!dir.mkdirs()) {
                fail("IO error while making output folder!");
            }
        }
        return pwd + File.separator + test;
    }

    private boolean makeFilesAndCheck(String testName, String test, String byZip, String byDate) {
        String dir = createDir(testName);
        String inputFile = dir + File.separator + "input" + File.separator + "itcont.txt";
        String outputFolder = dir + File.separator + "output";
        try (PrintWriter pw = new PrintWriter(inputFile)) {
            pw.print(test);
            pw.close();
        } catch (FileNotFoundException ex) {
            fail("IO error while writing itcont.txt!");
        }

        FindPD.main(new String[]{inputFile, outputFolder});

        return check(outputFolder + File.separator + "medianvals_by_zip.txt", byZip)
                && check(outputFolder + File.separator + "medianvals_by_date.txt", byDate);
    }

    @Test
    public void test1() {
        System.out.println("test1-Default Test");
        String test 
                = "C00629618|N|TER|P|201701230300133512|15C|IND|PEREZ, JOHN A|LOS ANGELES|CA|90017|PRINCIPAL|DOUBLE NICKEL ADVISORS|01032017|40|H6CA34245|SA01251735122|1141239|||2012520171368850783\n"
                + "C00177436|N|M2|P|201702039042410894|15|IND|DEEHAN, WILLIAM N|ALPHARETTA|GA|300047357|UNUM|SVP, SALES, CL|01312017|384||PR2283873845050|1147350||P/R DEDUCTION ($192.00 BI-WEEKLY)|4020820171370029337\n"
                + "C00384818|N|M2|P|201702039042412112|15|IND|ABBOTT, JOSEPH|WOONSOCKET|RI|028956146|CVS HEALTH|VP, RETAIL PHARMACY OPS|01122017|250||2017020211435-887|1147467|||4020820171370030285\n"
                + "C00177436|N|M2|P|201702039042410893|15|IND|SABOURIN, JAMES|LOOKOUT MOUNTAIN|GA|307502818|UNUM|SVP, CORPORATE COMMUNICATIONS|01312017|230||PR1890575345050|1147350||P/R DEDUCTION ($115.00 BI-WEEKLY)|4020820171370029335\n"
                + "C00177436|N|M2|P|201702039042410895|15|IND|JEROME, CHRISTOPHER|FALMOUTH|ME|041051896|UNUM|EVP, GLOBAL SERVICES|01312017|384||PR2283905245050|1147350||P/R DEDUCTION ($192.00 BI-WEEKLY)|4020820171370029342\n"
                + "C00384818|N|M2|P|201702039042412112|15|IND|BAKER, SCOTT|WOONSOCKET|RI|028956146|CVS HEALTH|EVP, HEAD OF RETAIL OPERATIONS|01122017|333||2017020211435-910|1147467|||4020820171370030287\n"
                + "C00177436|N|M2|P|201702039042410894|15|IND|FOLEY, JOSEPH|FALMOUTH|ME|041051935|UNUM|SVP, CORP MKTG & PUBLIC RELAT.|01312017|384||PR2283904845050|1147350||P/R DEDUCTION ($192.00 BI-WEEKLY)|4020820171370029339";
        String byDate
                = "C00177436|01312017|384|4|1382\n"
                + "C00384818|01122017|292|2|583";
        String byZip
                = "C00177436|30004|384|1|384\n"
                + "C00384818|02895|250|1|250\n"
                + "C00177436|30750|230|1|230\n"
                + "C00177436|04105|384|1|384\n"
                + "C00384818|02895|292|2|583\n"
                + "C00177436|04105|384|2|768";

        assertEquals(true, makeFilesAndCheck("test_1", test, byZip, byDate));
    }

    @Test
    public void test2() {

        System.out.println("test2-Test CMTE_ID");
        String test
                = "|N|TER|P|201701230300133512|15C|IND|PEREZ, JOHN A|LOS ANGELES|CA|90017|PRINCIPAL|DOUBLE NICKEL ADVISORS|01032017|40||SA01251735122|1141239|||2012520171368850783\n"
                + "C00177436|N|M2|P|201702039042410894|15|IND|DEEHAN, WILLIAM N|ALPHARETTA|GA|300047357|UNUM|SVP, SALES, CL|01312017|384||PR2283873845050|1147350||P/R DEDUCTION ($192.00 BI-WEEKLY)|4020820171370029337\n"
                + "C00384818|N|M2|P|201702039042412112|15|IND|ABBOTT, JOSEPH|WOONSOCKET|RI|028956146|CVS HEALTH|VP, RETAIL PHARMACY OPS|01122017|250||2017020211435-887|1147467|||4020820171370030285\n"
                + "C00177436|N|M2|P|201702039042410893|15|IND|SABOURIN, JAMES|LOOKOUT MOUNTAIN|GA|307502818|UNUM|SVP, CORPORATE COMMUNICATIONS|01312017|230||PR1890575345050|1147350||P/R DEDUCTION ($115.00 BI-WEEKLY)|4020820171370029335\n"
                + "C00177436|N|M2|P|201702039042410895|15|IND|JEROME, CHRISTOPHER|FALMOUTH|ME|041051896|UNUM|EVP, GLOBAL SERVICES|01312017|384||PR2283905245050|1147350||P/R DEDUCTION ($192.00 BI-WEEKLY)|4020820171370029342\n"
                + "C00384818|N|M2|P|201702039042412112|15|IND|BAKER, SCOTT|WOONSOCKET|RI|028956146|CVS HEALTH|EVP, HEAD OF RETAIL OPERATIONS|01122017|333||2017020211435-910|1147467|||4020820171370030287\n"
                + "C00177436|N|M2|P|201702039042410894|15|IND|FOLEY, JOSEPH|FALMOUTH|ME|041051935|UNUM|SVP, CORP MKTG & PUBLIC RELAT.|01312017|384||PR2283904845050|1147350||P/R DEDUCTION ($192.00 BI-WEEKLY)|4020820171370029339";
        String byDate
                = "C00177436|01312017|384|4|1382\n"
                + "C00384818|01122017|292|2|583";
        String byZip
                = "C00177436|30004|384|1|384\n"
                + "C00384818|02895|250|1|250\n"
                + "C00177436|30750|230|1|230\n"
                + "C00177436|04105|384|1|384\n"
                + "C00384818|02895|292|2|583\n"
                + "C00177436|04105|384|2|768";

        assertEquals(true, makeFilesAndCheck("test_2", test, byZip, byDate));
    }

    @Test
    public void test3() {
        System.out.println("test3-Test OTHER_ID");
        String test
                = "C00629618|N|TER|P|201701230300133512|15C|IND|PEREZ, JOHN A|LOS ANGELES|CA|90017|PRINCIPAL|DOUBLE NICKEL ADVISORS|01032017|40|H6CA34245|SA01251735122|1141239|||2012520171368850783\n"
                + "C00177436|N|M2|P|201702039042410894|15|IND|DEEHAN, WILLIAM N|ALPHARETTA|GA|300047357|UNUM|SVP, SALES, CL|01312017|384||PR2283873845050|1147350||P/R DEDUCTION ($192.00 BI-WEEKLY)|4020820171370029337\n"
                + "C00384818|N|M2|P|201702039042412112|15|IND|ABBOTT, JOSEPH|WOONSOCKET|RI|028956146|CVS HEALTH|VP, RETAIL PHARMACY OPS|01122017|250||2017020211435-887|1147467|||4020820171370030285\n"
                + "C00177436|N|M2|P|201702039042410893|15|IND|SABOURIN, JAMES|LOOKOUT MOUNTAIN|GA|307502818|UNUM|SVP, CORPORATE COMMUNICATIONS|01312017|230||PR1890575345050|1147350||P/R DEDUCTION ($115.00 BI-WEEKLY)|4020820171370029335\n"
                + "C00177436|N|M2|P|201702039042410895|15|IND|JEROME, CHRISTOPHER|FALMOUTH|ME|041051896|UNUM|EVP, GLOBAL SERVICES|01312017|384||PR2283905245050|1147350||P/R DEDUCTION ($192.00 BI-WEEKLY)|4020820171370029342\n"
                + "C00384818|N|M2|P|201702039042412112|15|IND|BAKER, SCOTT|WOONSOCKET|RI|028956146|CVS HEALTH|EVP, HEAD OF RETAIL OPERATIONS|01122017|333||2017020211435-910|1147467|||4020820171370030287\n"
                + "C00177436|N|M2|P|201702039042410894|15|IND|FOLEY, JOSEPH|FALMOUTH|ME|041051935|UNUM|SVP, CORP MKTG & PUBLIC RELAT.|01312017|384||PR2283904845050|1147350||P/R DEDUCTION ($192.00 BI-WEEKLY)|4020820171370029339";
        String byDate
                = "C00177436|01312017|384|4|1382\n"
                + "C00384818|01122017|292|2|583";
        String byZip
                = "C00177436|30004|384|1|384\n"
                + "C00384818|02895|250|1|250\n"
                + "C00177436|30750|230|1|230\n"
                + "C00177436|04105|384|1|384\n"
                + "C00384818|02895|292|2|583\n"
                + "C00177436|04105|384|2|768";
        assertEquals(true, makeFilesAndCheck("test_3", test, byZip, byDate));
    }

    @Test
    public void test4() {
        System.out.println("test4-Test OTHER_ID");
        String test
                = "C00629618|N|TER|P|201701230300133512|15C|IND|PEREZ, JOHN A|LOS ANGELES|CA|90017|PRINCIPAL|DOUBLE NICKEL ADVISORS|01032017|40||SA01251735122|1141239|||2012520171368850783\n"
                + "C00177436|N|M2|P|201702039042410894|15|IND|DEEHAN, WILLIAM N|ALPHARETTA|GA|300047357|UNUM|SVP, SALES, CL|01312017|384||PR2283873845050|1147350||P/R DEDUCTION ($192.00 BI-WEEKLY)|4020820171370029337\n"
                + "C00384818|N|M2|P|201702039042412112|15|IND|ABBOTT, JOSEPH|WOONSOCKET|RI|028956146|CVS HEALTH|VP, RETAIL PHARMACY OPS|01122017|250||2017020211435-887|1147467|||4020820171370030285\n"
                + "C00177436|N|M2|P|201702039042410893|15|IND|SABOURIN, JAMES|LOOKOUT MOUNTAIN|GA|307502818|UNUM|SVP, CORPORATE COMMUNICATIONS|01312017|230||PR1890575345050|1147350||P/R DEDUCTION ($115.00 BI-WEEKLY)|4020820171370029335\n"
                + "C00177436|N|M2|P|201702039042410895|15|IND|JEROME, CHRISTOPHER|FALMOUTH|ME|041051896|UNUM|EVP, GLOBAL SERVICES|01312017|384||PR2283905245050|1147350||P/R DEDUCTION ($192.00 BI-WEEKLY)|4020820171370029342\n"
                + "C00384818|N|M2|P|201702039042412112|15|IND|BAKER, SCOTT|WOONSOCKET|RI|028956146|CVS HEALTH|EVP, HEAD OF RETAIL OPERATIONS|01122017|333||2017020211435-910|1147467|||4020820171370030287\n"
                + "C00177436|N|M2|P|201702039042410894|15|IND|FOLEY, JOSEPH|FALMOUTH|ME|041051935|UNUM|SVP, CORP MKTG & PUBLIC RELAT.|01312017|384||PR2283904845050|1147350||P/R DEDUCTION ($192.00 BI-WEEKLY)|4020820171370029339";
        String byDate
                = "C00177436|01312017|384|4|1382\n"
                + "C00384818|01122017|292|2|583\n"
                + "C00629618|01032017|40|1|40";
        String byZip
                = "C00629618|90017|40|1|40\n"
                + "C00177436|30004|384|1|384\n"
                + "C00384818|02895|250|1|250\n"
                + "C00177436|30750|230|1|230\n"
                + "C00177436|04105|384|1|384\n"
                + "C00384818|02895|292|2|583\n"
                + "C00177436|04105|384|2|768";
        assertEquals(true, makeFilesAndCheck("test_4", test, byZip, byDate));

    }

    @Test
    public void test5() {
        System.out.println("test5-Test TRANSACTION_AMT");
        String test
                = "C00629618|N|TER|P|201701230300133512|15C|IND|PEREZ, JOHN A|LOS ANGELES|CA|90017|PRINCIPAL|DOUBLE NICKEL ADVISORS|01032017|40||SA01251735122|1141239|||2012520171368850783\n"
                + "C00177436|N|M2|P|201702039042410894|15|IND|DEEHAN, WILLIAM N|ALPHARETTA|GA|300047357|UNUM|SVP, SALES, CL|01312017|384||PR2283873845050|1147350||P/R DEDUCTION ($192.00 BI-WEEKLY)|4020820171370029337\n"
                + "C00384818|N|M2|P|201702039042412112|15|IND|ABBOTT, JOSEPH|WOONSOCKET|RI|028956146|CVS HEALTH|VP, RETAIL PHARMACY OPS|01122017|250||2017020211435-887|1147467|||4020820171370030285\n"
                + "C00177436|N|M2|P|201702039042410893|15|IND|SABOURIN, JAMES|LOOKOUT MOUNTAIN|GA|307502818|UNUM|SVP, CORPORATE COMMUNICATIONS|01312017|230||PR1890575345050|1147350||P/R DEDUCTION ($115.00 BI-WEEKLY)|4020820171370029335\n"
                + "C00177436|N|M2|P|201702039042410895|15|IND|JEROME, CHRISTOPHER|FALMOUTH|ME|041051896|UNUM|EVP, GLOBAL SERVICES|01312017|||PR2283905245050|1147350||P/R DEDUCTION ($192.00 BI-WEEKLY)|4020820171370029342\n"
                + "C00384818|N|M2|P|201702039042412112|15|IND|BAKER, SCOTT|WOONSOCKET|RI|028956146|CVS HEALTH|EVP, HEAD OF RETAIL OPERATIONS|01122017|333||2017020211435-910|1147467|||4020820171370030287\n"
                + "C00177436|N|M2|P|201702039042410894|15|IND|FOLEY, JOSEPH|FALMOUTH|ME|041051935|UNUM|SVP, CORP MKTG & PUBLIC RELAT.|01312017|384||PR2283904845050|1147350||P/R DEDUCTION ($192.00 BI-WEEKLY)|4020820171370029339";
        String byDate
                = "C00177436|01312017|384|3|998\n"
                + "C00384818|01122017|292|2|583\n"
                + "C00629618|01032017|40|1|40";
        String byZip
                = "C00629618|90017|40|1|40\n"
                + "C00177436|30004|384|1|384\n"
                + "C00384818|02895|250|1|250\n"
                + "C00177436|30750|230|1|230\n"
                + "C00384818|02895|292|2|583\n"
                + "C00177436|04105|384|1|384";
        assertEquals(true, makeFilesAndCheck("test_5", test, byZip, byDate));
    }

    @Test
    public void test6() {
        System.out.println("test6-Test other fields");
        String test
                = "C00629618|N|TER|P|201701230300133512|15C|IND|PEREZ, JOHN A|LOS ANGELES|CA|90017|PRINCIPAL|DOUBLE NICKEL ADVISORS|01032017|40||SA01251735122|1141239|||2012520171368850783\n"
                + "C00177436|N|M2|P|201702039042410894|15|IND|DEEHAN, WILLIAM N|ALPHARETTA|GA|300047357|UNUM|SVP, SALES, CL|01312017|384||PR2283873845050|1147350||P/R DEDUCTION ($192.00 BI-WEEKLY)|4020820171370029337\n"
                + "C00384818|N|M2|P|201702039042412112|15|IND|ABBOTT, JOSEPH|WOONSOCKET|RI|028956146|CVS HEALTH|VP, RETAIL PHARMACY OPS|01122017|250||2017020211435-887|1147467|||4020820171370030285\n"
                + "C00177436|N|M2|P||15|IND|SABOURIN, JAMES|LOOKOUT MOUNTAIN|GA|307502818||SVP, CORPORATE COMMUNICATIONS|01312017|230||PR1890575345050|1147350||P/R DEDUCTION ($115.00 BI-WEEKLY)|4020820171370029335\n"
                + "C00177436|N|M2|P|201702039042410895|15|IND|JEROME, CHRISTOPHER|FALMOUTH|ME|041051896|UNUM|EVP, GLOBAL SERVICES|01312017||||1147350||P/R DEDUCTION ($192.00 BI-WEEKLY)|4020820171370029342\n"
                + "C00384818|N|M2|P|201702039042412112|15|IND|BAKER, SCOTT|WOONSOCKET|RI|028956146|CVS HEALTH|EVP, HEAD OF RETAIL OPERATIONS|01122017|333||2017020211435-910|1147467|||4020820171370030287\n"
                + "C00177436|N|M2|P|201702039042410894|15||FOLEY, JOSEPH|FALMOUTH|ME|041051935|UNUM|SVP, CORP MKTG & PUBLIC RELAT.|01312017|384||PR2283904845050|1147350||P/R DEDUCTION ($192.00 BI-WEEKLY)|4020820171370029339\n"
                + "|||||||\n"
                + "\n";
        String byDate
                = "C00177436|01312017|384|3|998\n"
                + "C00384818|01122017|292|2|583\n"
                + "C00629618|01032017|40|1|40";
        String byZip
                = "C00629618|90017|40|1|40\n"
                + "C00177436|30004|384|1|384\n"
                + "C00384818|02895|250|1|250\n"
                + "C00177436|30750|230|1|230\n"
                + "C00384818|02895|292|2|583\n"
                + "C00177436|04105|384|1|384";
        assertEquals(true, makeFilesAndCheck("test_6", test, byZip, byDate));
    }

    @Test
    public void test7() {
        System.out.println("test7-Test Median");
        String test
                = "C00629618|N|TER|P|201701230300133512|15C|IND|PEREZ, JOHN A|LOS ANGELES|CA|90017|PRINCIPAL|DOUBLE NICKEL ADVISORS|01032017|40||SA01251735122|1141239|||2012520171368850783\n"
                + "C00177436|N|M2|P|201702039042410894|15|IND|DEEHAN, WILLIAM N|ALPHARETTA|GA|300047357|UNUM|SVP, SALES, CL|01312017|384||PR2283873845050|1147350||P/R DEDUCTION ($192.00 BI-WEEKLY)|4020820171370029337\n"
                + "C00384818|N|M2|P|201702039042412112|15|IND|ABBOTT, JOSEPH|WOONSOCKET|RI|028956146|CVS HEALTH|VP, RETAIL PHARMACY OPS|01122017|250||2017020211435-887|1147467|||4020820171370030285\n"
                + "C00177436|N|M2|P||15|IND|SABOURIN, JAMES|LOOKOUT MOUNTAIN|GA|307502818||SVP, CORPORATE COMMUNICATIONS|01312017|230||PR1890575345050|1147350||P/R DEDUCTION ($115.00 BI-WEEKLY)|4020820171370029335\n"
                + "C00177436|N|M2|P|201702039042410895|15|IND|JEROME, CHRISTOPHER|FALMOUTH|ME|041051896|UNUM|EVP, GLOBAL SERVICES|01312017||||1147350||P/R DEDUCTION ($192.00 BI-WEEKLY)|4020820171370029342\n"
                + "C00384818|N|M2|P|201702039042412112|15|IND|BAKER, SCOTT|WOONSOCKET|RI|028956146|CVS HEALTH|EVP, HEAD OF RETAIL OPERATIONS|01122017|333||2017020211435-910|1147467|||4020820171370030287\n"
                + "C00177436|N|M2|P|201702039042410894|15||FOLEY, JOSEPH|FALMOUTH|ME|041051935|UNUM|SVP, CORP MKTG & PUBLIC RELAT.|01312017|384||PR2283904845050|1147350||P/R DEDUCTION ($192.00 BI-WEEKLY)|4020820171370029339\n"
                + "|||)*(^$|||!@$\t#@|****|ds|472|\n"
                + "\n"
                + "C00629618|N|TER|P|201701230300133512|15C|IND|PEREZ, JOHN A|LOS ANGELES|CA|90017|PRINCIPAL|DOUBLE NICKEL ADVISORS|01032017|-1287||SA01251735122|1141239|||2012520171368850783\n";
        String byDate
                = "C00177436|01312017|384|3|998\n"
                + "C00384818|01122017|292|2|583\n"
                + "C00629618|01032017|-623|2|-1247";
        String byZip
                = "C00629618|90017|40|1|40\n"
                + "C00177436|30004|384|1|384\n"
                + "C00384818|02895|250|1|250\n"
                + "C00177436|30750|230|1|230\n"
                + "C00384818|02895|292|2|583\n"
                + "C00177436|04105|384|1|384\n"
                + "C00629618|90017|-623|2|-1247";
        assertEquals(true, makeFilesAndCheck("test_7", test, byZip, byDate));
    }

    @Test
    public void test8() {
        System.out.println("test8-Test ZIP_CODE");
        String test
                = "C00629618|N|TER|P|201701230300133512|15C|IND|PEREZ, JOHN A|LOS ANGELES|CA|9001D|PRINCIPAL|DOUBLE NICKEL ADVISORS|01032017|40||SA01251735122|1141239|||2012520171368850783\n"
                + "C00177436|N|M2|P|201702039042410894|15|IND|DEEHAN, WILLIAM N|ALPHARETTA|GA|300047357|UNUM|SVP, SALES, CL|01312017|384||PR2283873845050|1147350||P/R DEDUCTION ($192.00 BI-WEEKLY)|4020820171370029337\n"
                + "C00384818|N|M2|P|201702039042412112|15|IND|ABBOTT, JOSEPH|WOONSOCKET|RI|028956146|CVS HEALTH|VP, RETAIL PHARMACY OPS|01122017|250||2017020211435-887|1147467|||4020820171370030285\n"
                + "C00177436|N|M2|P|201702039042410893|15|IND|SABOURIN, JAMES|LOOKOUT MOUNTAIN|GA|307502818|UNUM|SVP, CORPORATE COMMUNICATIONS|01312017|230||PR1890575345050|1147350||P/R DEDUCTION ($115.00 BI-WEEKLY)|4020820171370029335\n"
                + "C00177436|N|M2|P|201702039042410895|15|IND|JEROME, CHRISTOPHER|FALMOUTH|ME|041051896|UNUM|EVP, GLOBAL SERVICES|01312017|384||PR2283905245050|1147350||P/R DEDUCTION ($192.00 BI-WEEKLY)|4020820171370029342\n"
                + "C00384818|N|M2|P|201702039042412112|15|IND|BAKER, SCOTT|WOONSOCKET|RI|028956146|CVS HEALTH|EVP, HEAD OF RETAIL OPERATIONS|01122017|333||2017020211435-910|1147467|||4020820171370030287\n"
                + "C00177436|N|M2|P|201702039042410894|15|IND|FOLEY, JOSEPH|FALMOUTH|ME|04105193|UNUM|SVP, CORP MKTG & PUBLIC RELAT.|01312017|384||PR2283904845050|1147350||P/R DEDUCTION ($192.00 BI-WEEKLY)|4020820171370029339";
        String byDate
                = "C00177436|01312017|384|4|1382\n"
                + "C00384818|01122017|292|2|583\n"
                + "C00629618|01032017|40|1|40";
        String byZip
                = "C00177436|30004|384|1|384\n"
                + "C00384818|02895|250|1|250\n"
                + "C00177436|30750|230|1|230\n"
                + "C00177436|04105|384|1|384\n"
                + "C00384818|02895|292|2|583";
        assertEquals(true, makeFilesAndCheck("test_8", test, byZip, byDate));
    }

    private boolean check(String fileName, String compareTo) {
        File file = new File(fileName);
        try {
            BufferedReader reader = new BufferedReader(new FileReader(file));
            String[] temp = compareTo.split("\\n");
            String str;
            int i = 0;
            boolean res = true;
            while ((str = reader.readLine()) != null) {
                res = res && str.equals(temp[i++]);
            }
            res = res && i == temp.length;
            return res;
        } catch (IOException ex) {
            fail("IO Error!");
        }
        return false;
    }

}
